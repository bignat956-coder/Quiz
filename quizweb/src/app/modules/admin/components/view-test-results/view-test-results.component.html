<div class="results-dashboard-container">

    <nz-alert 
        *ngIf="errorMessage" 
        nzType="error" 
        [nzMessage]="'Failed to Load Data'" 
        [nzDescription]="errorMessage" 
        nzShowIcon 
        class="error-alert">
    </nz-alert>

    <nz-card nzTitle="Quiz Result History" class="results-card">
        
        <nz-table #basicTable [nzData]="resultsData" [nzPageSize]="10" [nzScroll]="{ x: '700px' }">
                      <thead>
                <tr>
                    <th nzWidth="25%" nzSortKey="testName">Test Name</th>
                    <th nzWidth="25%" nzSortKey="userName">Student Name</th>
                    <th nzWidth="15%" nzSortKey="correctAnswers">Correct Answers</th>
                    <th nzWidth="15%" nzSortKey="percentage">Score Percentage</th> 
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let data of basicTable.data">
                    <td>{{data.testName}}</td>
                    <td>{{data.userName}}</td>
                    <td>{{data.correctAnswers}} / {{data.totalQuestions}}</td>
                    
                    <td class="score-number-cell" 
                        [ngClass]="{'pass': data.percentage >= 50, 'fail': data.percentage < 50}">
                        {{ data.percentage | number:'1.2-2' }}%
                    </td>
                </tr>
            </tbody>

        </nz-table>
    </nz-card>
</div>

